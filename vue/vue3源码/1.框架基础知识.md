[toc]

# 命令式和声明式

https://juejin.cn/post/7085523157007728677

命令式框架更注重用代码实现功能的过程，基本上需求和操作可以一一对应，声明式框架更注重展示给开发者的结果。

比如，jQuery 就是典型的命令式框架，Vue 或者 React 就是典型的声明式框架。

比如要实现这么一个功能：

- 获取 id 为 app 的标签
- 把标签的文本内容设置为 'click me'
- 给标签添加点击事件，点击后弹出提示 'hello'

用 jQuery 来实现，就是这样的代码。

```js
$('#app')
  .text('click me')
    .on('click', () => { alert('hello') })
```

用 Vue 来实现，就是这样的代码：

```html
<div @click="alert('hello')">click me</div>
复制代码
```

很明显，Vue 的代码看上去人更容易理解，非常直观，这就是声明式的代码，它只注重结果，至于过程是怎么实现的，那就是 Vue 内部的事情了，把困难的部分留给了框架自己，使用框架的人用起来就非常简单。

## 优缺点以及比较（jq和vue哪个更好）

+ 命令式的代码在性能上优于声明式的代码，声明式也在内部做很多操作来实现命令式的功能，比如vue的虚拟dom成本就包括：找出差异的性能消耗+直接修改的性能消耗， 利用虚拟dom查找差异是一种消耗最小化的查找差异的方式（innerHTML<虚拟dom<原生js）
+ 声明式的维护成本更低

# 运行时和编译时

+ 运行时就是render函数接收的内容，一个树形结构，把树形结构通过render可以转化为真实的dom==>没办法分析用户输入的内容
+ 编译时：把html代码通过compiler直接转化为js版本的实现（利用createElement等),完全不支持树形结构==》缺少灵活性
+ 编译运行时：由compiler+render组成，既可以把树形结构直接传入render，也支持把html通过compiler转化为树形结构，再传入render