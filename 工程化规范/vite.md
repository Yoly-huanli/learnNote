[toc]

# vite原理

+ 预构建、核心是依赖现代浏览器支持 `ESM` 的特性,针对开发体验优化、真正按需加载...

+ vite 预构建这块做了什么，为什么他冷启动快，和 webpack 的区别是什么

  ```
  预构建主要是通过 esbuild 将浏览器原生不支持的 UMD 和 CJS 构建成 ESM，还有一些比如 vue 的 sfc 解析成 js
  把裸模块自动解析成相对路径，如import ... from 'vue' => .....from 'node_modules..'，这样子浏览器后边引入的时候就不会报错
  整合一些依赖的单独文件，减少请求次数
  冷启动快是因为不需要打包，做好预构建后等待浏览器按需请求即可
  webpack 需要编译打包等等
  ```

+ 一个基本上都用 `ESM` 写的项目，`vite` 和 `webpack` 在开发上都一样

  ```
  不一样 vite 开发环境不需要打包，在预构建之后直接等待浏览器按需请求即可，而 webpack 还要从入口解析依赖然后编译打包等等
  ```